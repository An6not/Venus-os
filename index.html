<!DOCTYPE html>
<html>
<head>
    <title>OriginOS Web - Simulation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="top-bar">
            <div class="status-bar">
                <span class="time">10:30 AM</span>
                <span class="battery">üîã 85%</span>
                <span class="signal">üì∂</span>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
            </div>
        </div>

        <div class="content">
            <div class="app-card">
                <img src="https://i.imgur.com/X6v87gQ.png" alt="App Icon">
                <div class="app-info">
                    <h3>Chrome</h3>
                    <p>Browse the web</p>
                </div>
            </div>
            <div class="app-card">
                <img src="https://i.imgur.com/X6v87gQ.png" alt="App Icon">
                <div class="app-info">
                    <h3>Files</h3>
                    <p>Manage your files</p>
                </div>
            </div>
            </div>
    </div>
    <script src="script.js"></script>
</body>
</html>                            <svg viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                        </div>
                        <div class="app-name">Settings</div>
                    </div>

                    <div class="app-item" data-app="photos">
                        <div class="app-icon" style="background:white;">
                             <svg viewBox="0 0 24 24" style="fill:none; stroke:none;"><path fill="#FF3B30" d="M12 7a5 5 0 0 1-5 5V7h5z"/><path fill="#FF9500" d="M12 7a5 5 0 0 0 5 5V7h-5z"/><path fill="#007AFF" d="M12 17a5 5 0 0 1 5-5v5h-5z"/><path fill="#4CD964" d="M12 17a5 5 0 0 0-5-5v5h5z"/></svg>
                        </div>
                        <div class="app-name">Photos</div>
                    </div>

                     <div class="app-item" data-app="weather">
                        <div class="app-icon bg-blue">
                            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>
                        </div>
                        <div class="app-name">Weather</div>
                    </div>
                     <div class="app-item" data-app="music">
                        <div class="app-icon bg-red">
                            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                        </div>
                        <div class="app-name">Music</div>
                    </div>
                </div>

                <!-- –î–æ–∫ -->
                <div class="dock">
                    <div class="app-item" data-app="phone">
                        <div class="app-icon bg-green"><svg viewBox="0 0 24 24"><path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.44-5.15-3.75-6.59-6.59l1.97-1.57c.26-.27.35-.66.24-1.01-.37-1.11-.56-2.3-.56-3.53 0-.55-.45-1-1-1H4.39c-.55 0-1 .45-1 1 0 8.73 7.14 15.87 15.87 15.87.55 0 1-.45 1-1v-3.51c0-.55-.45-1-1-1z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="safari">
                        <div class="app-icon bg-white"><svg viewBox="0 0 24 24" fill="#007AFF"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.12 14.12l-1.06 1.06L10.59 12l2.47-5.18 1.06 1.06L16.65 10l-2.53 6.12z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="messages">
                        <div class="app-icon bg-green"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="camera">
                        <div class="app-icon bg-dark"><svg viewBox="0 0 24 24"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg></div>
                    </div>
                </div>
            </div>

            <!-- –û–ö–ù–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö) -->
            <div class="app-window" id="appWindow">
                <div class="app-content-inner" id="appContent">
                    <!-- –°—é–¥–∞ JS –∑–∞–≥—Ä—É–∑–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç -->
                </div>
            </div>

            <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–ª–æ—Å–∞ –∂–µ—Å—Ç–æ–≤ -->
            <div class="home-bar-area" id="homeBarArea">
                <div class="home-bar" id="homeBar"></div>
            </div>

        </div>
    </div>

    <!-- –®–ê–ë–õ–û–ù–´ –ü–†–ò–õ–û–ñ–ï–ù–ò–ô -->
    <template id="tpl-settings">
        <div class="settings-ui">
            <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
            <div class="search-box">üîç –ü–æ–∏—Å–∫</div>
            <div class="group">
                <div class="row">‚úàÔ∏è –ê–≤–∏–∞—Ä–µ–∂–∏–º <div class="toggle"></div></div>
                <div class="row">üì∂ Wi-Fi <span>Keenetic ‚Ä∫</span></div>
                <div class="row">ü¶∑ Bluetooth <span>–í–∫–ª. ‚Ä∫</span></div>
            </div>
             <div class="group">
                <div class="row">‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ <span>‚Ä∫</span></div>
                <div class="row">üéõÔ∏è –ü—É–Ω–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è <span>‚Ä∫</span></div>
            </div>
        </div>
    </template>

    <template id="tpl-generic">
        <div class="generic-ui">
            <h1 id="genericTitle">App</h1>
            <div class="skeleton"></div>
            <div class="skeleton" style="width:60%"></div>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>                            <svg viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                        </div>
                        <div class="app-name">Settings</div>
                    </div>

                    <div class="app-item" data-app="photos">
                        <div class="app-icon" style="background:white;">
                             <svg viewBox="0 0 24 24" style="fill:none; stroke:none;"><path fill="#FF3B30" d="M12 7a5 5 0 0 1-5 5V7h5z"/><path fill="#FF9500" d="M12 7a5 5 0 0 0 5 5V7h-5z"/><path fill="#007AFF" d="M12 17a5 5 0 0 1 5-5v5h-5z"/><path fill="#4CD964" d="M12 17a5 5 0 0 0-5-5v5h5z"/></svg>
                        </div>
                        <div class="app-name">Photos</div>
                    </div>

                     <div class="app-item" data-app="weather">
                        <div class="app-icon bg-blue">
                            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>
                        </div>
                        <div class="app-name">Weather</div>
                    </div>
                     <div class="app-item" data-app="music">
                        <div class="app-icon bg-red">
                            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                        </div>
                        <div class="app-name">Music</div>
                    </div>
                </div>

                <!-- –î–æ–∫ -->
                <div class="dock">
                    <div class="app-item" data-app="phone">
                        <div class="app-icon bg-green"><svg viewBox="0 0 24 24"><path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.44-5.15-3.75-6.59-6.59l1.97-1.57c.26-.27.35-.66.24-1.01-.37-1.11-.56-2.3-.56-3.53 0-.55-.45-1-1-1H4.39c-.55 0-1 .45-1 1 0 8.73 7.14 15.87 15.87 15.87.55 0 1-.45 1-1v-3.51c0-.55-.45-1-1-1z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="safari">
                        <div class="app-icon bg-white"><svg viewBox="0 0 24 24" fill="#007AFF"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.12 14.12l-1.06 1.06L10.59 12l2.47-5.18 1.06 1.06L16.65 10l-2.53 6.12z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="messages">
                        <div class="app-icon bg-green"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg></div>
                    </div>
                    <div class="app-item" data-app="camera">
                        <div class="app-icon bg-dark"><svg viewBox="0 0 24 24"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg></div>
                    </div>
                </div>
            </div>

            <!-- –û–ö–ù–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö) -->
            <div class="app-window" id="appWindow">
                <div class="app-content-inner" id="appContent">
                    <!-- –°—é–¥–∞ JS –∑–∞–≥—Ä—É–∑–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç -->
                </div>
            </div>

            <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–ª–æ—Å–∞ –∂–µ—Å—Ç–æ–≤ -->
            <div class="home-bar-area" id="homeBarArea">
                <div class="home-bar" id="homeBar"></div>
            </div>

        </div>
    </div>

    <!-- –®–ê–ë–õ–û–ù–´ –ü–†–ò–õ–û–ñ–ï–ù–ò–ô -->
    <template id="tpl-settings">
        <div class="settings-ui">
            <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
            <div class="search-box">üîç –ü–æ–∏—Å–∫</div>
            <div class="group">
                <div class="row">‚úàÔ∏è –ê–≤–∏–∞—Ä–µ–∂–∏–º <div class="toggle"></div></div>
                <div class="row">üì∂ Wi-Fi <span>Keenetic ‚Ä∫</span></div>
                <div class="row">ü¶∑ Bluetooth <span>–í–∫–ª. ‚Ä∫</span></div>
            </div>
             <div class="group">
                <div class="row">‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ <span>‚Ä∫</span></div>
                <div class="row">üéõÔ∏è –ü—É–Ω–∫—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è <span>‚Ä∫</span></div>
            </div>
        </div>
    </template>

    <template id="tpl-generic">
        <div class="generic-ui">
            <h1 id="genericTitle">App</h1>
            <div class="skeleton"></div>
            <div class="skeleton" style="width:60%"></div>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>        .btn-vol-up { top: 140px; left: -3px; width: 3px; height: 40px; }
        .btn-vol-down { top: 190px; left: -3px; width: 3px; height: 40px; }

        /* --- –≠–ö–†–ê–ù --- */
        .screen {
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1620121692029-d088224ddc74?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80') center/cover;
            border-radius: 38px;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        /* --- –û–í–ï–†–õ–ï–ô (–ß–ï–õ–ö–ê + –°–¢–ê–¢–£–° –ë–ê–†) --- */
        .dynamic-island-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 40px;
            z-index: 9999; /* –í—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ */
            pointer-events: none; /* –ö–ª–∏–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–∫–≤–æ–∑—å –ø—É—Å—Ç–æ—Ç—É */
            display: flex;
            justify-content: center;
        }

        .island {
            margin-top: 11px;
            width: 90px;
            height: 25px;
            background: #000;
            border-radius: 20px;
            transition: width 0.3s;
        }

        .status-bar {
            position: absolute;
            width: 100%;
            top: 15px;
            display: flex;
            justify-content: space-between;
            padding: 0 25px;
            box-sizing: border-box;
            font-size: 13px;
            font-weight: 600;
            color: white;
        }

        /* --- –†–ê–ë–û–ß–ò–ô –°–¢–û–õ --- */
        .home-screen {
            height: 100%;
            padding-top: 60px;
            box-sizing: border-box;
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.2s;
            transform-origin: center;
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            padding: 0 16px;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∫–æ–Ω–∫–∏ */
        .icon-wrap {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.1s;
        }
        
        .icon-wrap:active { transform: scale(0.9); filter: brightness(0.8); }

        /* –°–∞–º–∞ –∏–∫–æ–Ω–∫–∞ (–∫–≤–∞–¥—Ä–∞—Ç) */
        .app-icon {
            width: 56px;
            height: 56px;
            border-radius: 13px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
            position: relative;
        }
        
        /* SVG –≤–Ω—É—Ç—Ä–∏ –∏–∫–æ–Ω–∫–∏ */
        .app-icon svg { width: 30px; height: 30px; fill: white; }

        .app-title { font-size: 11px; color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.5); font-weight: 500; }

        /* –î–æ–∫ (–Ω–∏–∑) */
        .dock {
            position: absolute;
            bottom: 20px;
            left: 14px;
            right: 14px;
            height: 85px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border-radius: 30px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        /* --- –û–ö–ù–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø --- */
        .app-window {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #fff;
            z-index: 100;
            display: none; /* –°–∫—Ä—ã—Ç–æ */
            overflow: hidden;
            /* –í–∞–∂–Ω–∞—è —á–∞—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ */
            transform-origin: top left; 
            border-radius: 38px;
        }

        .app-window.animating {
            display: block;
            position: absolute;
            transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
        .app-content {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            opacity: 0;
            transition: opacity 0.2s ease-in;
            padding-top: 50px; /* –û—Ç—Å—Ç—É–ø –æ—Ç —á–µ–ª–∫–∏ */
            box-sizing: border-box;
            background: #f2f2f7; /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ iOS */
        }
        
        .app-window.open .app-content { opacity: 1; transition-delay: 0.1s; }

        /* --- –ò–ù–¢–ï–†–§–ï–ô–° –ù–ê–°–¢–†–û–ï–ö (iOS Style) --- */
        .settings-header {
            font-size: 30px;
            font-weight: 700;
            padding: 0 20px 10px 20px;
            color: #000;
        }

        .search-bar {
            margin: 0 16px 15px 16px;
            background: #e3e3e8;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            padding-left: 10px;
            color: #8e8e93;
            font-size: 15px;
        }

        .list-group {
            background: white;
            border-radius: 10px;
            margin: 0 16px 20px 16px;
            overflow: hidden;
        }

        .list-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e5ea;
            font-size: 16px;
            color: #000;
            cursor: pointer;
        }

        .list-item:last-child { border-bottom: none; }
        .list-item:active { background: #f2f2f7; }

        .item-icon {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 12px;
        }
        .item-icon svg { width: 18px; height: 18px; fill: white; }

        .item-text { flex-grow: 1; }
        .item-arrow { color: #c7c7cc; font-size: 14px; font-weight: 700; }

        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (Toggle) */
        .toggle {
            width: 45px;
            height: 26px;
            background: #e9e9ea;
            border-radius: 15px;
            position: relative;
            transition: 0.3s;
        }
        .toggle::after {
            content: '';
            position: absolute;
            top: 2px; left: 2px;
            width: 22px; height: 22px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: 0.3s;
        }
        .toggle.active { background: #34c759; }
        .toggle.active::after { transform: translateX(19px); }


        /* --- UI HELPERS --- */
        /* –ü–æ–ª–æ—Å–∫–∞ –¥–æ–º–æ–π */
        .home-bar {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 5px;
            background: white;
            border-radius: 100px;
            z-index: 10000;
            cursor: pointer;
            transition: background 0.3s;
        }
        .home-bar.dark { background: #000; }

        /* –¶–≤–µ—Ç–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ */
        .g-grey { background: linear-gradient(#8e8e93, #636366); }
        .g-blue { background: linear-gradient(#4facfe, #00f2fe); }
        .g-green { background: linear-gradient(#43e97b, #38f9d7); }
        .g-orange { background: linear-gradient(#f83600, #fe8c00); }
        .g-music { background: linear-gradient(#fa709a, #fee140); }

    </style>
</head>
<body>

    <div class="phone">
        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="btn-side btn-power"></div>
        <div class="btn-side btn-vol-up"></div>
        <div class="btn-side btn-vol-down"></div>

        <div class="screen" id="screen">
            
            <!-- –û–≤–µ—Ä–ª–µ–π -->
            <div class="dynamic-island-layer">
                <div class="island"></div>
                <div class="status-bar">
                    <span id="clock">19:41</span>
                    <span style="display:flex; gap:5px;">
                        <svg width="18" height="14" viewBox="0 0 24 24" fill="white"><path d="M12 2C7 2 2.8 5.4 1.2 10.2c-.3.8-.3 1.7 0 2.6C2.8 17.6 7 21 12 21s9.2-3.4 10.8-8.2c.3-.8.3-1.7 0-2.6C21.2 5.4 17 2 12 2zm0 15c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"/></svg>
                        <span>100</span>
                    </span>
                </div>
            </div>

            <!-- –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª -->
            <div class="home-screen" id="homeScreen">
                <div class="app-grid">
                    <!-- –ò–∫–æ–Ω–∫–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                    <div class="icon-wrap" onclick="openApp(this, 'settings')">
                        <div class="app-icon g-grey">
                            <svg viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                        </div>
                        <div class="app-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    </div>

                    <!-- –ò–∫–æ–Ω–∫–∞ –§–æ—Ç–æ -->
                    <div class="icon-wrap" onclick="openApp(this, 'photos')">
                        <div class="app-icon" style="background:white">
                            <svg viewBox="0 0 24 24" style="fill:none; stroke:none;"><path fill="#FF3B30" d="M12 7a5 5 0 0 1-5 5V7h5z"/><path fill="#FF9500" d="M12 7a5 5 0 0 0 5 5V7h-5z"/><path fill="#007AFF" d="M12 17a5 5 0 0 1 5-5v5h-5z"/><path fill="#4CD964" d="M12 17a5 5 0 0 0-5-5v5h5z"/></svg>
                        </div>
                        <div class="app-title">–§–æ—Ç–æ</div>
                    </div>

                     <!-- –ú—É–∑—ã–∫–∞ -->
                    <div class="icon-wrap" onclick="openApp(this, 'generic')">
                        <div class="app-icon g-music">
                            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                        </div>
                        <div class="app-title">–ú—É–∑—ã–∫–∞</div>
                    </div>
                </div>

                <div class="dock">
                    <div class="icon-wrap" onclick="openApp(this, 'generic')">
                        <div class="app-icon g-green"><svg viewBox="0 0 24 24"><path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.44-5.15-3.75-6.59-6.59l1.97-1.57c.26-.27.35-.66.24-1.01-.37-1.11-.56-2.3-.56-3.53 0-.55-.45-1-1-1H4.39c-.55 0-1 .45-1 1 0 8.73 7.14 15.87 15.87 15.87.55 0 1-.45 1-1v-3.51c0-.55-.45-1-1-1z"/></svg></div>
                    </div>
                    <div class="icon-wrap" onclick="openApp(this, 'generic')">
                        <div class="app-icon g-blue"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.12 14.12l-1.06 1.06L10.59 12l2.47-5.18 1.06 1.06L16.65 10l-2.53 6.12zM12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8z"/></svg></div>
                    </div>
                     <div class="icon-wrap" onclick="openApp(this, 'generic')">
                        <div class="app-icon g-green"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg></div>
                    </div>
                     <div class="icon-wrap" onclick="openApp(this, 'generic')">
                        <div class="app-icon" style="background:#333"><svg viewBox="0 0 24 24"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg></div>
                    </div>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <div class="app-window" id="appWindow">
                <!-- –°—é–¥–∞ JS –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç -->
            </div>

            <div class="home-bar" id="homeBar" onclick="closeApp()"></div>
        </div>
    </div>

    <!-- –®–∞–±–ª–æ–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–°–∫—Ä—ã—Ç—ã) -->
    <template id="tpl-settings">
        <div class="app-content">
            <h1 class="settings-header">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
            <div class="search-bar">üîç –ü–æ–∏—Å–∫</div>
            
            <div class="list-group">
                <div class="list-item">
                    <div class="item-icon" style="background:#007AFF;"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg></div>
                    <span class="item-text">–ê–≤–∏–∞—Ä–µ–∂–∏–º</span>
                    <div class="toggle" onclick="toggleSwitch(this)"></div>
                </div>
                <div class="list-item">
                     <div class="item-icon" style="background:#34c759;"><svg viewBox="0 0 24 24"><path d="M12 11c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 2c0-3.31-2.69-6-6-6s-6 2.69-6 6c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.48-.81 2.75-2 3.45l1 1.74c1.79-1.04 3-2.97 3-5.19zM12 3C6.48 3 2 7.48 2 13c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 18.53 4 15.96 4 13c0-4.42 3.58-8 8-8s8 3.58 8 8c0 2.96-1.61 5.53-4 6.92l1 1.73c2.99-1.73 5-4.95 5-8.65 0-5.52-4.48-10-10-10z"/></svg></div>
                    <span class="item-text">Wi-Fi</span>
                    <span class="item-arrow">TP-Link_5G ‚Ä∫</span>
                </div>
                 <div class="list-item">
                     <div class="item-icon" style="background:#007AFF;"><svg viewBox="0 0 24 24"><path d="M17.71 7.71L12 2h-1v7.59L6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 11 14.41V22h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 5.83l1.88 1.88L13 9.59V5.83zm1.88 10.46L13 18.17v-3.76l1.88 1.88z"/></svg></div>
                    <span class="item-text">Bluetooth</span>
                    <span class="item-arrow">–í–∫–ª. ‚Ä∫</span>
                </div>
            </div>

            <div class="list-group">
                <div class="list-item">
                     <div class="item-icon" style="background:#8e8e93;"><svg viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg></div>
                    <span class="item-text">–û—Å–Ω–æ–≤–Ω—ã–µ</span>
                    <span class="item-arrow">‚Ä∫</span>
                </div>
                <div class="list-item">
                     <div class="item-icon" style="background:#007AFF;"><svg viewBox="0 0 24 24"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"/></svg></div>
                    <span class="item-text">–ó–≤—É–∫–∏</span>
                    <span class="item-arrow">‚Ä∫</span>
                </div>
            </div>
        </div>
    </template>
    
    <template id="tpl-generic">
        <div class="app-content" style="background: white; display:flex; justify-content:center; align-items:center; flex-direction:column;">
            <h2 style="color:#aaa;">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h2>
            <p style="color:#ddd;">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>
        </div>
    </template>

    <script>
        // –ß–∞—Å—ã
        setInterval(() => {
            const d = new Date();
            document.getElementById('clock').innerText = 
                d.getHours().toString().padStart(2,'0') + ':' + d.getMinutes().toString().padStart(2,'0');
        }, 1000);

        // --- –õ–û–ì–ò–ö–ê ---
        const appWindow = document.getElementById('appWindow');
        const homeScreen = document.getElementById('homeScreen');
        const homeBar = document.getElementById('homeBar');
        const screen = document.getElementById('screen');
        
        let activeApp = null; // –•—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∫–æ–Ω–∫–∏, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–∫—Ä—ã–ª–∏
        let animationTimeout = null; // –î–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞

        function openApp(el, type) {
            // –ï—Å–ª–∏ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–æ, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º
            if (activeApp) return;

            // –°–±—Ä–æ—Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–∞–π–º–µ—Ä–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–∏ (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞)
            clearTimeout(animationTimeout);

            activeApp = el;
            
            // 1. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
            const icon = el.querySelector('.app-icon');
            const iconRect = icon.getBoundingClientRect();
            const screenRect = screen.getBoundingClientRect();
            
            const startTop = iconRect.top - screenRect.top;
            const startLeft = iconRect.left - screenRect.left;

            // 2. –í—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            const tpl = document.getElementById(type === 'settings' ? 'tpl-settings' : 'tpl-generic');
            appWindow.innerHTML = tpl.innerHTML;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Bar (—á–µ—Ä–Ω—ã–π –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, –±–µ–ª—ã–π –¥–ª—è —Ç–µ–º–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
            if(type === 'settings') {
                homeBar.classList.add('dark');
            } else {
                homeBar.classList.remove('dark');
            }

            // 3. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ–∫–Ω–æ = –∏–∫–æ–Ω–∫–∞)
            appWindow.style.display = 'block';
            appWindow.style.transition = 'none'; // –û—Ç–∫–ª—é—á–∞–µ–º –ø–ª–∞–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
            appWindow.style.top = startTop + 'px';
            appWindow.style.left = startLeft + 'px';
            appWindow.style.width = iconRect.width + 'px';
            appWindow.style.height = iconRect.height + 'px';
            appWindow.style.borderRadius = '13px'; // –†–∞–¥–∏—É—Å –∏–∫–æ–Ω–∫–∏
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π reflow (—á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä "—Å—ä–µ–ª" –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ –Ω–∞—á–∞–ª–∞ –∞–Ω–∏–º–∞—Ü–∏–∏)
            void appWindow.offsetWidth;

            // 4. –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
            appWindow.style.transition = 'all 0.4s cubic-bezier(0.19, 1, 0.22, 1)';
            appWindow.classList.add('animating'); // –í–∫–ª—é—á–∞–µ—Ç –Ω—É–∂–Ω—ã–π CSS –∫–ª–∞—Å—Å
            
            // –§–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–≤–µ—Å—å —ç–∫—Ä–∞–Ω)
            appWindow.style.top = '0';
            appWindow.style.left = '0';
            appWindow.style.width = '100%';
            appWindow.style.height = '100%';
            appWindow.style.borderRadius = '38px'; // –†–∞–¥–∏—É—Å —ç–∫—Ä–∞–Ω–∞
            
            // –≠—Ñ—Ñ–µ–∫—Ç –≥–ª—É–±–∏–Ω—ã –¥–ª—è —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞
            homeScreen.style.transform = 'scale(0.85)';
            homeScreen.style.opacity = '0';
            
            // –ü–æ–∫–∞–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞
            animationTimeout = setTimeout(() => {
                appWindow.classList.add('open');
            }, 300);
        }

        function closeApp() {
            if (!activeApp) return;

            clearTimeout(animationTimeout);

            // 1. –°–∫—Ä—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            appWindow.classList.remove('open');
            homeBar.classList.remove('dark');

            // 2. –í—ã—á–∏—Å–ª—è–µ–º –∫—É–¥–∞ –ª–µ—Ç–µ—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
            const icon = activeApp.querySelector('.app-icon');
            const iconRect = icon.getBoundingClientRect();
            const screenRect = screen.getBoundingClientRect();
            
            const targetTop = iconRect.top - screenRect.top;
            const targetLeft = iconRect.left - screenRect.left;

            // 3. –õ–µ—Ç–∏–º –æ–±—Ä–∞—Ç–Ω–æ
            appWindow.style.top = targetTop + 'px';
            appWindow.style.left = targetLeft + 'px';
            appWindow.style.width = iconRect.width + 'px';
            appWindow.style.height = iconRect.height + 'px';
            appWindow.style.borderRadius = '13px';

            // 4. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
            homeScreen.style.transform = 'scale(1)';
            homeScreen.style.opacity = '1';

            // 5. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –∞–Ω–∏–º–∞—Ü–∏–∏ - display: none
            animationTimeout = setTimeout(() => {
                appWindow.classList.remove('animating');
                appWindow.style.display = 'none';
                activeApp = null;
            }, 400); // –¢–∞–π–º–∏–Ω–≥ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å transition –≤ CSS
        }

        // –õ–æ–≥–∏–∫–∞ —Å–≤–∏—Ç—á–µ–π –≤–Ω—É—Ç—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function toggleSwitch(el) {
            el.classList.toggle('active');
        }
    </script>
</body>
</html>    <p>–ö–ª–∏–∫–∞–π –Ω–∞ –º–æ–Ω—Å—Ç—Ä–æ–≤, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∏—Ö –∑–≤—É–∫!</p>
</div>

<div id="start-overlay">
    <div>–ù–∞–∂–º–∏ —Å—é–¥–∞, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –û—Å—Ç—Ä–æ–≤! üéµ</div>
</div>

<canvas id="gameCanvas"></canvas>

<script>
/**
 * –ù–ê–°–¢–†–û–ô–ö–ò –î–í–ò–ñ–ö–ê
 */
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
let audioCtx; // –ë—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ –∫–ª–∏–∫—É
let isPlaying = false;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ç–∞–π–º–∏–Ω–≥
const BPM = 120;
const stepTime = 60 / BPM / 4; // 16-—Ç—ã–µ –Ω–æ—Ç—ã
let nextNoteTime = 0;
let current16thNote = 0; // –°—á–µ—Ç—á–∏–∫ —à–∞–≥–æ–≤ –æ—Ç 0 –¥–æ 15

/**
 * –ö–õ–ê–°–° –ú–û–ù–°–¢–†–ê
 * –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–≤—É–∫–∞
 */
class Monster {
    constructor(x, y, color, type, pattern) {
        this.x = x;
        this.y = y;
        this.baseY = y;
        this.radius = 40;
        this.color = color;
        this.type = type; // 'bass', 'drum', 'lead'
        this.pattern = pattern; // –ú–∞—Å—Å–∏–≤ –∏–∑ 16 —Ü–∏—Ñ—Ä (1 = –∑–≤—É–∫, 0 = —Ç–∏—à–∏–Ω–∞)
        
        this.isMuted = false;
        this.scale = 1; // –î–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—É–ª—å—Å–∞—Ü–∏–∏
        this.mouthOpen = 0;
    }

    // –õ–æ–≥–∏–∫–∞ –∑–≤—É–∫–∞ (–°–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä)
    playSound(time) {
        if (this.isMuted || !audioCtx) return;

        const osc = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        
        osc.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        // –†–∞–∑–Ω—ã–µ –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–Ω—Å—Ç—Ä–æ–≤
        if (this.type === 'bass') {
            // –ë–∞—Å–æ–≤—ã–π –∑–≤—É–∫ (Sine wave)
            osc.type = 'triangle';
            osc.frequency.setValueAtTime(110, time); // A2
            osc.frequency.exponentialRampToValueAtTime(55, time + 0.3);
            gainNode.gain.setValueAtTime(0.8, time);
            gainNode.gain.exponentialRampToValueAtTime(0.01, time + 0.3);
            osc.start(time);
            osc.stop(time + 0.3);

        } else if (this.type === 'drum') {
            // –£–¥–∞—Ä–Ω—ã–π –∑–≤—É–∫ (Noise simulation via rapid frequency drop)
            osc.type = 'square';
            osc.frequency.setValueAtTime(150, time);
            osc.frequency.exponentialRampToValueAtTime(0.01, time + 0.1);
            gainNode.gain.setValueAtTime(0.5, time);
            gainNode.gain.exponentialRampToValueAtTime(0.01, time + 0.1);
            osc.start(time);
            osc.stop(time + 0.1);

        } else if (this.type === 'lead') {
            // –ú–µ–ª–æ–¥–∏—è (Vocal style)
            osc.type = 'sine';
            // –ü—Ä–æ—Å—Ç–∞—è –º–µ–ª–æ–¥–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —à–∞–≥–∞
            let note = (current16thNote % 4 === 0) ? 440 : 523; // A4 or C5
            osc.frequency.setValueAtTime(note, time);
            
            gainNode.gain.setValueAtTime(0, time);
            gainNode.gain.linearRampToValueAtTime(0.3, time + 0.05); // Attack
            gainNode.gain.linearRampToValueAtTime(0, time + 0.4); // Decay
            
            osc.start(time);
            osc.stop(time + 0.4);
        }

        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç "—É–¥–∞—Ä–∞"
        this.scale = 1.3; 
        this.mouthOpen = 15;
    }

    update() {
        // –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        if (this.scale > 1) this.scale -= 0.05;
        if (this.scale < 1) this.scale = 1;
        if (this.mouthOpen > 0) this.mouthOpen -= 1;

        // –õ–µ–≥–∫–æ–µ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ (Idle animation)
        this.y = this.baseY + Math.sin(Date.now() / 500) * 5;
    }

    draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);
        
        // –≠—Ñ—Ñ–µ–∫—Ç "—Å–ø–ª—é—â–∏–≤–∞–Ω–∏—è" –ø—Ä–∏ –∑–≤—É–∫–µ
        ctx.scale(1 + (this.scale - 1) * 0.5, this.scale);

        // –¢–µ–ª–æ –º–æ–Ω—Å—Ç—Ä–∞
        ctx.fillStyle = this.isMuted ? '#555' : this.color;
        ctx.beginPath();
        ctx.arc(0, 0, this.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.lineWidth = 3;
        ctx.strokeStyle = '#000';
        ctx.stroke();

        // –ì–ª–∞–∑–∞
        ctx.fillStyle = 'white';
        ctx.beginPath();
        ctx.arc(-15, -10, 8, 0, Math.PI * 2);
        ctx.arc(15, -10, 8, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = 'black';
        ctx.beginPath();
        ctx.arc(-15, -10, 3, 0, Math.PI * 2);
        ctx.arc(15, -10, 3, 0, Math.PI * 2);
        ctx.fill();

        // –†–æ—Ç (–ø–æ–µ—Ç –∏–ª–∏ –º–æ–ª—á–∏—Ç)
        ctx.fillStyle = 'black';
        ctx.beginPath();
        if (this.mouthOpen > 0 && !this.isMuted) {
            // –ü–æ—é—â–∏–π —Ä–æ—Ç (–û)
            ctx.ellipse(0, 10, 5, this.mouthOpen / 1.5, 0, 0, Math.PI * 2);
        } else {
            // –£–ª—ã–±–∫–∞
            ctx.arc(0, 10, 10, 0, Math.PI, false);
        }
        ctx.fill();

        // –ó–Ω–∞—á–æ–∫ Mute
        if (this.isMuted) {
            ctx.fillStyle = 'red';
            ctx.font = '30px Arial';
            ctx.fillText('X', -10, 10);
        }

        ctx.restore();
        
        // –¢–µ–Ω—å –≤–Ω–∏–∑—É
        ctx.fillStyle = 'rgba(0,0,0,0.2)';
        ctx.beginPath();
        ctx.ellipse(this.x, this.baseY + 50, 30 * this.scale, 10, 0, 0, Math.PI * 2);
        ctx.fill();
    }
}

/**
 * –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ì–†–´
 */
const monsters = [];

// 1. –ë–∞—Ä–∞–±–∞–Ω—â–∏–∫ (–∏–≥—Ä–∞–µ—Ç –Ω–∞ 0, 4, 8, 12 —Ç–∞–∫—Ç—ã)
monsters.push(new Monster(window.innerWidth * 0.3, window.innerHeight * 0.6, '#FF6B6B', 'drum', 
    [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0]));

// 2. –ë–∞—Å–æ–≤–∏–∫ (—Ç—è–≥—É—á–∏–π —Ä–∏—Ç–º)
monsters.push(new Monster(window.innerWidth * 0.5, window.innerHeight * 0.7, '#4ECDC4', 'bass', 
    [1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0]));

// 3. –í–æ–∫–∞–ª–∏—Å—Ç (–º–µ–ª–æ–¥–∏—è)
monsters.push(new Monster(window.innerWidth * 0.7, window.innerHeight * 0.6, '#FFE66D', 'lead', 
    [0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0]));

/**
 * –ê–£–î–ò–û –õ–£–ü (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
 * –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, —á—Ç–æ–±—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ—Ç—ã –Ω–∞–ø–µ—Ä–µ–¥
 */
function scheduler() {
    // –ü–æ–∫–∞ –µ—Å—Ç—å –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –Ω–æ—Ç—ã, –ø–ª–∞–Ω–∏—Ä—É–µ–º –µ—ë
    while (nextNoteTime < audioCtx.currentTime + 0.1) {
        scheduleNote(current16thNote, nextNoteTime);
        nextStep();
    }
    // –¢–∞–π–º–µ—Ä –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    setTimeout(scheduler, 25);
}

function nextStep() {
    const secondsPerBeat = 60.0 / BPM;
    nextNoteTime += 0.25 * secondsPerBeat; // 16-—Ç—ã–µ –Ω–æ—Ç—ã
    current16thNote++;
    if (current16thNote === 16) {
        current16thNote = 0;
    }
}

function scheduleNote(beatNumber, time) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–≥–æ –º–æ–Ω—Å—Ç—Ä–∞: –¥–æ–ª–∂–µ–Ω –ª–∏ –æ–Ω –∏–≥—Ä–∞—Ç—å –≤ —ç—Ç–æ—Ç —Ç–∞–∫—Ç?
    monsters.forEach(m => {
        if (m.pattern[beatNumber] === 1) {
            // –ü–ª–∞–Ω–∏—Ä—É–µ–º –∑–≤—É–∫
            m.playSound(time);
            
            // –ü–ª–∞–Ω–∏—Ä—É–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (—á—É—Ç—å –ø–æ–∑–∂–µ, —á—Ç–æ–±—ã —Å–æ–≤–ø–∞–ª–æ —Å–æ –∑–≤—É–∫–æ–º)
            // –ú—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AudioContext –≤—Ä–µ–º—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ Canvas –Ω–∞–ø—Ä—è–º—É—é,
            // –ø–æ—ç—Ç–æ–º—É –¥–µ–ª–∞–µ–º "—Ö–∞–∫" —Å setTimeout, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–∏–º–µ—Ä–Ω–æ.
            setTimeout(() => {
                m.scale = 1.3;
                m.mouthOpen = 15;
            }, (time - audioCtx.currentTime) * 1000);
        }
    });
}


/**
 * –ì–õ–ê–í–ù–´–ô –¶–ò–ö–õ –û–¢–†–ò–°–û–í–ö–ò (CANVAS)
 */
function drawLoop() {
    // –û—á–∏—Å—Ç–∫–∞
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // –†–∏—Å—É–µ–º –ø—Ä–æ—Å—Ç–æ–π –æ—Å—Ç—Ä–æ–≤
    ctx.fillStyle = '#8BC34A';
    ctx.beginPath();
    ctx.ellipse(canvas.width/2, canvas.height * 0.8, canvas.width * 0.6, 200, 0, 0, Math.PI * 2);
    ctx.fill();

    // –û–±–Ω–æ–≤–ª—è–µ–º –∏ —Ä–∏—Å—É–µ–º –º–æ–Ω—Å—Ç—Ä–æ–≤
    monsters.forEach(m => {
        m.update();
        m.draw(ctx);
    });

    requestAnimationFrame(drawLoop);
}

/**
 * –£–ü–†–ê–í–õ–ï–ù–ò–ï
 */
// –ö–ª–∏–∫ –ø–æ –º–æ–Ω—Å—Ç—Ä—É (Mute/Unmute)
canvas.addEventListener('mousedown', (e) => {
    if (!isPlaying) return;
    
    const rect = canvas.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    monsters.forEach(m => {
        const dist = Math.sqrt((mouseX - m.x) ** 2 + (mouseY - m.y) ** 2);
        if (dist < m.radius) {
            m.isMuted = !m.isMuted;
        }
    });
});

// –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã
document.getElementById('start-overlay').addEventListener('click', function() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AudioContext
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
    nextNoteTime = audioCtx.currentTime + 0.1;
    isPlaying = true;
    
    scheduler(); // –ó–∞–ø—É—Å–∫ –∞—É–¥–∏–æ –¥–≤–∏–∂–∫–∞
    drawLoop();  // –ó–∞–ø—É—Å–∫ –≥—Ä–∞—Ñ–∏–∫–∏
    
    this.style.display = 'none';
});

// –†–µ—Å–∞–π–∑ –æ–∫–Ω–∞
window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
    monsters[0].x = canvas.width * 0.3; monsters[0].y = canvas.height * 0.6;
    monsters[1].x = canvas.width * 0.5; monsters[1].y = canvas.height * 0.7;
    monsters[2].x = canvas.width * 0.7; monsters[2].y = canvas.height * 0.6;
});

</script>
</body>
</html>
        #gameCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* General style for controls overlay */
        .control-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Allows clicks to pass through if needed, but buttons will intercept */
        }

        /* Crosshair Styling (Centered Plus Sign) */
        .crosshair {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 32px;
            height: 32px;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .crosshair::before,
        .crosshair::after {
            content: '';
            position: absolute;
            background-color: white;
            opacity: 0.8;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
        }

        /* Vertical bar */
        .crosshair::before {
            width: 4px;
            height: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Horizontal bar */
        .crosshair::after {
            width: 16px;
            height: 4px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Mobile Button Styling */
        .mobile-button {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            border-radius: 9999px; /* Fully rounded */
            background-color: rgba(255, 255, 255, 0.2); /* Transparent white */
            color: white;
            font-size: 1.25rem;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: background-color 0.1s, transform 0.1s;
            pointer-events: auto; /* Buttons should be clickable */
            user-select: none;
        }

        .mobile-button:active {
            background-color: rgba(255, 255, 255, 0.5);
            transform: scale(0.95);
        }

        /* D-Pad specific layout */
        .dpad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 5px;
            width: 150px;
            height: 150px;
        }

        /* D-pad button placement in the grid */
        .dpad > :nth-child(1) { grid-area: 2 / 1 / 3 / 2; } /* Left */
        .dpad > :nth-child(2) { grid-area: 1 / 2 / 2 / 3; } /* Up */
        .dpad > :nth-child(3) { grid-area: 2 / 3 / 3 / 4; } /* Right */
        .dpad > :nth-child(4) { grid-area: 3 / 2 / 4 / 3; } /* Down */
    </style>
</head>
<body>

    <div class="game-container">
        <!-- Canvas for the Blocky World Render -->
        <canvas id="gameCanvas"></canvas>

        <!-- Control Overlay Container -->
        <div class="control-overlay">

            <!-- 1. Centered Crosshair -->
            <div class="crosshair"></div>

            <!-- 2. FULLSCREEN Button (Top-Left) -->
            <button id="fullscreen-btn" class="absolute top-4 left-4 p-2 text-white bg-gray-800/50 hover:bg-gray-700/70 rounded-lg shadow-lg flex items-center justify-center text-sm font-semibold pointer-events-auto transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5m-5 0v11m0 0H8m0 0l-5 5m11-1V4m0 0h-4m4 0l-5 5m-5 0v11m0 0H8m0 0l-5 5" />
                </svg>
                FULLSCREEN
            </button>


            <!-- Mobile Controls (Bottom) -->
            <div class="absolute bottom-4 w-full flex justify-between px-4">
                
                <!-- D-Pad (Bottom-Left) -->
                <div class="dpad pointer-events-auto">
                    <button class="mobile-button" onclick="logAction('Move Left')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                    </button>
                    <button class="mobile-button" onclick="logAction('Move Up')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 10l7-7m0 0l7 7m-7-7v18" /></svg>
                    </button>
                    <div class="w-full h-full"></div> <!-- Empty space -->
                    <button class="mobile-button" onclick="logAction('Move Right')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M14 5l7 7m0 0l-7 7m7-7H3" /></svg>
                    </button>
                    <button class="mobile-button" onclick="logAction('Move Down')">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 14l-7 7m0 0l-7-7m7 7V3" /></svg>
                    </button>
                </div>

                <!-- A/B Action Buttons (Bottom-Right) -->
                <div class="flex flex-col items-end justify-end space-y-4 pointer-events-auto">
                    <button class="mobile-button w-[70px] h-[70px]" onclick="logAction('Action A: Jump/Place')">A</button>
                    <button class="mobile-button w-[70px] h-[70px]" onclick="logAction('Action B: Interact/Mine')">B</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Message Box for Console Output -->
    <div id="message-box" class="fixed top-0 right-0 m-4 p-3 bg-green-600 text-white rounded-lg shadow-xl opacity-0 transition-opacity duration-300 pointer-events-none">
        Action: Logged!
    </div>

    <script>
        // Global utility function for logging control actions
        function logAction(message) {
            console.log(`[Control] ${message}`);
            const msgBox = document.getElementById('message-box');
            msgBox.textContent = `Action: ${message}`;
            msgBox.classList.remove('bg-green-600', 'bg-blue-600');
            msgBox.classList.add(message.includes('FULLSCREEN') ? 'bg-blue-600' : 'bg-green-600');
            msgBox.classList.add('opacity-100');
            setTimeout(() => {
                msgBox.classList.remove('opacity-100');
            }, 1500);
        }

        // --- CANVAS RENDERING LOGIC ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Colors for the blocky scene
        const COLORS = {
            SKY: '#78C1F3',
            CLOUD: '#FFFFFF',
            GRASS_TOP: '#64A44D',
            GRASS_SIDE: '#74B460',
            DIRT: '#96705D',
            LEAVES: '#2A5D2A',
            TRUNK: '#795548',
        };

        // Block size simulation (how many "pixels" per block in the canvas)
        const BLOCK_SIZE = 16;
        
        /**
         * Draws a single block at canvas coordinates (x, y) with a given color.
         * @param {number} x X-coordinate (in blocks)
         * @param {number} y Y-coordinate (in blocks)
         * @param {string} color Hex color string
         */
        function drawBlock(x, y, color, size = BLOCK_SIZE) {
            ctx.fillStyle = color;
            ctx.fillRect(x * size, y * size, size, size);
            
            // Add block texture simulation (darker lines)
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.lineWidth = 1;
            ctx.strokeRect(x * size, y * size, size, size);
        }

        /**
         * Draws the main blocky scene: sky, clouds, and terrain layers.
         */
        function drawScene() {
            if (!canvas.width || !canvas.height) return;

            const w = canvas.width;
            const h = canvas.height;
            
            // Calculate block dimensions based on current canvas size (e.g., 40 blocks wide)
            const blocksWide = 40;
            const size = w / blocksWide;
            const blocksHigh = Math.ceil(h / size);
            const halfHeight = Math.floor(blocksHigh * 0.5);

            // 1. Sky and Clouds
            ctx.fillStyle = COLORS.SKY;
            ctx.fillRect(0, 0, w, h);

            // Simple block clouds
            const cloudPattern = [
                { x: 5, y: 4, w: 2, h: 1 }, { x: 8, y: 5, w: 3, h: 1 },
                { x: 28, y: 3, w: 4, h: 2 }, { x: 34, y: 5, w: 2, h: 1 },
            ];

            cloudPattern.forEach(c => {
                for (let i = 0; i < c.w; i++) {
                    for (let j = 0; j < c.h; j++) {
                        drawBlock((c.x + i) * blocksWide/40, (c.y + j) * blocksHigh/20, COLORS.CLOUD, size);
                    }
                }
            });

            // 2. Terrain Generation Simulation
            const groundLevel = blocksHigh - 6; // Y-coordinate for the base ground
            
            // A simple heightmap simulation for hills
            const heightMap = Array(blocksWide).fill(groundLevel).map((base, i) => {
                // Creates a few smooth hills
                const hill1 = Math.sin(i / 10) * 2;
                const hill2 = Math.cos(i / 5) * 1.5;
                return Math.floor(base + hill1 + hill2 + 1);
            });
            
            // Draw terrain from bottom up
            for (let x = 0; x < blocksWide; x++) {
                let currentHeight = heightMap[x];
                
                // Draw layers below the grass block
                for (let y = currentHeight + 1; y < blocksHigh; y++) {
                    drawBlock(x, y, COLORS.DIRT, size);
                }

                // Draw the top block (Grass with dirt side)
                drawBlock(x, currentHeight, COLORS.GRASS_TOP, size);
            }

            // 3. Trees (Cross-shaped 3D simulation)
            const trees = [
                { x: 8, y: heightMap[8] - 1 },
                { x: 15, y: heightMap[15] - 1 },
                { x: 25, y: heightMap[25] - 1 },
                { x: 33, y: heightMap[33] - 1 }
            ];

            trees.forEach(tree => {
                const trunkX = tree.x;
                const trunkY = tree.y;
                
                // Draw Trunk (3 blocks high)
                for(let i = 0; i < 3; i++) {
                    drawBlock(trunkX, trunkY - i, COLORS.TRUNK, size);
                }
                
                // Draw Canopy (Cross-shaped 3D layers simulation)
                const canopyHeight = 3;
                const canopyRadius = 2;
                const baseTrunkY = trunkY - 2;

                for (let yOffset = 0; yOffset < canopyHeight; yOffset++) {
                    for (let xOffset = -canopyRadius; xOffset <= canopyRadius; xOffset++) {
                        for (let zOffset = -canopyRadius; zOffset <= canopyRadius; zOffset++) {
                            // Simple distance check to simulate a spherical/blocky crown
                            const distSq = xOffset*xOffset + zOffset*zOffset;
                            
                            // Check for block placement (simulate cross shape by skipping corners on some layers)
                            if (distSq <= canopyRadius * canopyRadius) {
                                // Simulate 3D by placing the block slightly offset/larger for visual effect
                                if (yOffset === 0 && distSq > 4) continue; // narrower base
                                
                                // The block is drawn at trunkX + xOffset, and trunkY - 3 - yOffset
                                // We simplify the z-dimension into a visual effect on the x-axis for 2D perspective
                                const drawX = trunkX + xOffset + (zOffset * 0.2); 
                                const drawY = baseTrunkY - yOffset;

                                // Make the main foliage color
                                let color = COLORS.LEAVES;

                                if (drawX >= 0 && drawX < blocksWide && drawY >= 0) {
                                     drawBlock(drawX, drawY, color, size * 1.05); // Slightly larger for foliage
                                }
                            }
                        }
                    }
                }
            });
        }
        
        /**
         * Resize the canvas and redraw the scene.
         */
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            drawScene();
        }

        // --- FULLSCREEN LOGIC ---
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const gameContainer = document.querySelector('.game-container');

        fullscreenBtn.addEventListener('click', () => {
            logAction('FULLSCREEN Toggle');
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else if (gameContainer.requestFullscreen) {
                gameContainer.requestFullscreen();
            }
        });

        // Initialize
        window.onload = () => {
            // Initial draw
            resizeCanvas();
        };

        // Redraw on window resize to maintain block proportion
        window.addEventListener('resize', resizeCanvas);
        
    </script>
</body>
</html>

            <button class="nav-button" data-tool="qr-generator" data-i18n="nav_qr_generator">QR/–®—Ç—Ä–∏—Ö-–∫–æ–¥</button>
            <button class="nav-button" data-tool="uuid-gen" data-i18n="nav_uuid_gen">UUID/–ù–∏–∫–Ω–µ–π–º—ã</button>
            <button class="nav-button" data-tool="random-gen" data-i18n="nav_random_gen">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ó–Ω–∞—á–µ–Ω–∏–π</button>
            <button class="nav-button" data-tool="labyrinth" data-i18n="nav_labyrinth">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –õ–∞–±–∏—Ä–∏–Ω—Ç–æ–≤</button>
            <button class="nav-button" data-tool="color-palette" data-i18n="nav_color_palette">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞–ª–∏—Ç—Ä</button>
            <button class="nav-button" data-tool="fractal-gen" data-i18n="nav_fractal_gen">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§—Ä–∞–∫—Ç–∞–ª–æ–≤</button>
            <button class="nav-button" data-tool="pattern-gen" data-i18n="nav_pattern_gen">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤</button>
            
            <button class="nav-button" data-tool="mini-ide" data-i18n="nav_mini_ide">–ú–∏–Ω–∏-IDE</button>
            <button class="nav-button" data-tool="json-formatter" data-i18n="nav_json_formatter">JSON –§–æ—Ä–º–∞—Ç—Ç–µ—Ä</button>
            <button class="nav-button" data-tool="regexp-tester" data-i18n="nav_regexp_tester">RegExp –¢–µ—Å—Ç–µ—Ä</button>
            <button class="nav-button" data-tool="base64-converter" data-i18n="nav_base64_converter">Base64</button>
            <button class="nav-button" data-tool="code-encrypt" data-i18n="nav_code_encrypt">–®–∏—Ñ—Ä–∞—Ç–æ—Ä</button>
            <button class="nav-button" data-tool="hasher" data-i18n="nav_hasher">–•–µ—à–µ—Ä</button>
            <button class="nav-button" data-tool="archiver" data-i18n="nav_archiver">–ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä</button>
            <button class="nav-button" data-tool="text-analyzer" data-i18n="nav_text_analyzer">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¢–µ–∫—Å—Ç–∞</button>
            
            <button class="nav-button" data-tool="image-editor" data-i18n="nav_image_editor">–†–µ–¥–∞–∫—Ç–æ—Ä –ò–∑–æ–±—Ä.</button>
            <button class="nav-button" data-tool="image-converter" data-i18n="nav_image_converter">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –ò–∑–æ–±—Ä.</button>
            <button class="nav-button" data-tool="audio-generator" data-i18n="nav_audio_generator">–ê—É–¥–∏–æ-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</button>
            <button class="nav-button" data-tool="video-player" data-i18n="nav_video_player">–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</button>
            <button class="nav-button" data-tool="bytebeat" data-i18n="nav_bytebeat">Bytebeat/–í–∏–∑—É–∞–ª</button>
            
            <button class="nav-button" data-tool="game-of-life" data-i18n="nav_game_of_life">–ñ–∏–∑–Ω—å –ö–æ–Ω–≤–µ—è</button>
            <button class="nav-button" data-tool="tetris" data-i18n="nav_tetris">–¢–µ—Ç—Ä–∏—Å</button>
            <button class="nav-button" data-tool="pong" data-i18n="nav_pong">–ü–æ–Ω–≥</button>
            <button class="nav-button" data-tool="2048" data-i18n="nav_2048">2048</button>
            <button class="nav-button" data-tool="sand-sim" data-i18n="nav_sand_sim">–ü–µ—Å–æ—á–Ω–∏—Ü–∞ –ß–∞—Å—Ç–∏—Ü</button>
            <button class="nav-button" data-tool="perceptron" data-i18n="nav_perceptron">–ü–µ—Ä—Ü–µ–ø—Ç—Ä–æ–Ω</button>
            <button class="nav-button" data-tool="tictactoe" data-i18n="nav_tictactoe">–•/–û</button>
            <button class="nav-button" data-tool="snake" data-i18n="nav_snake">–ó–º–µ–π–∫–∞ (AI)</button>
            
            <button class="nav-button" data-tool="browser" data-i18n="nav_browser">–ë—Ä–∞—É–∑–µ—Ä</button>
            <button class="nav-button" data-tool="os-mockup" data-i18n="nav_os_mockup">OS –ê–Ω–∏–º–∞—Ü–∏–∏</button>
            <button class="nav-button" data-tool="notepad" data-i18n="nav_notepad">–ú–∏–Ω–∏-–ë–ª–æ–∫–Ω–æ—Ç</button>
            <button class="nav-button" data-tool="timer" data-i18n="nav_timer">–¢–∞–π–º–µ—Ä/–°–µ–∫—É–Ω–¥.</button>
            <button class="nav-button" data-tool="converter" data-i18n="nav_converter">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä $\text{C}$/$\text{F}$</button>
            <button class="nav-button" data-tool="currency-converter" data-i18n="nav_currency_converter">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –í–∞–ª—é—Ç</button>
            <button class="nav-button" data-tool="counter" data-i18n="nav_counter">–°—á–µ—Ç—á–∏–∫ –°–ª–æ–≤</button>
            <button class="nav-button" data-tool="calculator" data-i18n="nav_calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
            <button class="nav-button" data-tool="window-system" data-i18n="nav_window_system">–û–∫–æ–Ω–Ω–∞—è –°–∏—Å—Ç–µ–º–∞</button>
        </nav>

        <div class="tool-area">

            <section id="password-gen" class="tool-section active">
                <h2 data-i18n="pwg_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞—Ä–æ–ª–µ–π</h2>
                <div class="input-group">
                    <label for="password-length" data-i18n="pwg_length_label">–î–ª–∏–Ω–∞:</label>
                    <input type="number" id="password-length" value="16" min="8" max="128">
                </div>
                <div class="input-group checkboxes">
                    <label><input type="checkbox" id="pass-upper" checked> <span data-i18n="pwg_upper">–ó–∞–≥–ª–∞–≤–Ω—ã–µ (A-Z)</span></label>
                    <label><input type="checkbox" id="pass-lower" checked> <span data-i18n="pwg_lower">–°—Ç—Ä–æ—á–Ω—ã–µ (a-z)</span></label>
                    <label><input type="checkbox" id="pass-numbers" checked> <span data-i18n="pwg_numbers">–¶–∏—Ñ—Ä—ã (0-9)</span></label>
                    <label><input type="checkbox" id="pass-symbols"> <span data-i18n="pwg_symbols">–°–∏–º–≤–æ–ª—ã (!@#$%^)</span></label>
                </div>
                <button id="generate-password" class="action-button button-success" data-i18n="pwg_generate_btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                <p><span data-i18n="pwg_output_label">–ü–∞—Ä–æ–ª—å:</span> <input type="text" id="password-output" readonly></p>
            </section>
            
            <section id="qr-generator" class="tool-section hidden">
                <h2 data-i18n="qr_title">QR-–∫–æ–¥/—à—Ç—Ä–∏—Ö-–∫–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</h2>
                <input type="text" id="qr-input" data-i18n-placeholder="qr_input_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ URL">
                <canvas id="qr-canvas" width="200" height="200"></canvas>
            </section>
            
            <section id="notepad" class="tool-section hidden">
                <h2 data-i18n="notepad_title">–ú–∏–Ω–∏-–±–ª–æ–∫–Ω–æ—Ç</h2>
                <textarea id="notepad-area" rows="10" data-i18n-placeholder="notepad_placeholder">–í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ...</textarea>
            </section>

            <section id="timer" class="tool-section hidden">
                <h2 data-i18n="timer_title">–¢–∞–π–º–µ—Ä / –°–µ–∫—É–Ω–¥–æ–º–µ—Ä</h2>
                <div class="timer-display" id="timer-display">00:00:00</div>
                <div class="timer-controls">
                    <button id="timer-start" class="action-button button-success" data-i18n="timer_start_btn">–°—Ç–∞—Ä—Ç</button>
                    <button id="timer-stop" class="action-button button-danger" data-i18n="timer_stop_btn">–°—Ç–æ–ø</button>
                    <button id="timer-reset" class="action-button" data-i18n="timer_reset_btn">–°–±—Ä–æ—Å</button>
                </div>
                <hr>
                <label for="timer-set" data-i18n="timer_set_label">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¢–∞–π–º–µ—Ä (—Å–µ–∫—É–Ω–¥—ã):</label>
                <input type="number" id="timer-set" value="60" min="1">
            </section>
            
            <section id="currency-converter" class="tool-section hidden">
                <h2 data-i18n="cur_title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h2>
                <p class="note" data-i18n="cur_note">–û—Ñ–ª–∞–π–Ω: USD/EUR/RUB (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫—É—Ä—Å—ã).</p>
                <div class="input-group" style="display: flex; gap: 10px; align-items: center;">
                    <input type="number" id="currency-input" value="100" style="width: 100px;">
                    <select id="currency-from" style="width: 100px;">
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="RUB">RUB</option>
                    </select>
                    <span>$\rightarrow$</span>
                    <select id="currency-to" style="width: 100px;">
                        <option value="EUR">EUR</option>
                        <option value="USD">USD</option>
                        <option value="RUB">RUB</option>
                    </select>
                </div>
                <p><span data-i18n="cur_output_label">–†–µ–∑—É–ª—å—Ç–∞—Ç:</span> <span id="currency-output">0</span></p>
            </section>

            <section id="uuid-gen" class="tool-section hidden">
                <h2 data-i18n="uuid_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä UUID/–ù–∏–∫–Ω–µ–π–º–æ–≤</h2>
                <button id="generate-uuid" class="action-button">UUID</button>
                <button id="generate-nickname" class="action-button" data-i18n="uuid_nickname_btn">–ù–∏–∫–Ω–µ–π–º</button>
                <p id="uuid-output"></p>
            </section>

            <section id="regexp-tester" class="tool-section hidden">
                <h2 data-i18n="reg_title">RegExp –¢–µ—Å—Ç–µ—Ä</h2>
                <label for="regexp-pattern" data-i18n="reg_pattern_label">–ü–∞—Ç—Ç–µ—Ä–Ω (/.../):</label>
                <input type="text" id="regexp-pattern" value="/\d{3}-\d{2}/g">
                <label for="regexp-text" data-i18n="reg_text_label">–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç:</label>
                <textarea id="regexp-text" rows="5">–ö–æ–¥: 123-45. –î–∞—Ç–∞: 01-01.</textarea>
                <button id="run-regexp" class="action-button" data-i18n="reg_run_btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                <div id="regexp-results" class="results"></div>
            </section>
            
            <section id="mini-ide" class="tool-section hidden">
                <h2 data-i18n="ide_title">–ú–∏–Ω–∏-IDE (HTML/CSS/JS)</h2>
                <div class="ide-controls">
                    <button data-lang="html" class="action-button active">HTML</button>
                    <button data-lang="css" class="action-button">CSS</button>
                    <button data-lang="js" class="action-button">JS</button>
                </div>
                <textarea id="ide-editor" rows="10" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∑–¥–µ—Å—å..."></textarea>
                <button id="run-ide" class="action-button button-success" data-i18n="ide_run_btn">–û–±–Ω–æ–≤–∏—Ç—å –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                <h3 data-i18n="ide_preview_title">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</h3>
                <iframe id="ide-preview" class="ide-preview" sandbox="allow-scripts"></iframe>
            </section>
            
            <section id="json-formatter" class="tool-section hidden">
                <h2 data-i18n="json_title">JSON –§–æ—Ä–º–∞—Ç—Ç–µ—Ä/–í–∞–ª–∏–¥–∞—Ç–æ—Ä</h2>
                <label for="json-input" data-i18n="json_input_label">JSON –í–≤–æ–¥:</label>
                <textarea id="json-input" rows="8">{"name":"Test", "value":1}</textarea>
                <button id="format-json" class="action-button" data-i18n="json_format_btn">–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å/–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å</button>
                <div id="json-status" class="results note"></div>
                <label for="json-output" data-i18n="json_output_label">–í—ã–≤–æ–¥ (Formatted):</label>
                <textarea id="json-output" rows="8" readonly></textarea>
            </section>

            <section id="base64-converter" class="tool-section hidden">
                <h2 data-i18n="base64_title">Base64 Encode/Decode</h2>
                <label for="base64-input" data-i18n="base64_input_label">–í–≤–æ–¥ (–¢–µ–∫—Å—Ç/Base64):</label>
                <textarea id="base64-input" rows="5">Hello World</textarea>
                <button id="encode-base64" class="action-button" data-i18n="base64_encode_btn">Encode $\rightarrow$</button>
                <button id="decode-base64" class="action-button" data-i18n="base64_decode_btn">$\leftarrow$ Decode</button>
                <label for="base64-output" data-i18n="base64_output_label">–í—ã–≤–æ–¥:</label>
                <textarea id="base64-output" rows="5" readonly></textarea>
            </section>
            
            <section id="code-encrypt" class="tool-section hidden">
                <h2 data-i18n="cipher_title">–®–∏—Ñ—Ä–∞—Ç–æ—Ä/–î–µ—à–∏—Ñ—Ä–∞—Ç–æ—Ä</h2>
                <select id="cipher-type">
                    <option value="caesar">Caesar</option>
                    <option value="vigenere">Vigen√®re</option>
                </select>
                <input type="text" id="cipher-key" data-i18n-placeholder="cipher_key_placeholder" placeholder="–ö–ª—é—á/–°–¥–≤–∏–≥">
                <textarea id="cipher-input" rows="5"></textarea>
                <button id="run-cipher" class="action-button" data-i18n="cipher_encrypt_btn">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
                <textarea id="cipher-output" rows="5" readonly></textarea>
            </section>
            
            <section id="hasher" class="tool-section hidden">
                <h2 data-i18n="hash_title">–•–µ—à–µ—Ä</h2>
                <select id="hash-type">
                    <option value="md5">MD5</option>
                    <option value="sha256">SHA256</option>
                </select>
                <input type="text" id="hash-input" data-i18n-placeholder="hash_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç">
                <p><span data-i18n="hash_output_label">–•–µ—à:</span> <span id="hash-output"></span></p>
            </section>
            
            <section id="random-gen" class="tool-section hidden">
                <h2 data-i18n="rand_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</h2>
                <button id="generate-number" class="action-button" data-i18n="rand_number_btn">–ß–∏—Å–ª–æ</button>
                <button id="generate-color" class="action-button" data-i18n="rand_color_btn">–¶–≤–µ—Ç</button>
                <p id="random-output"></p>
            </section>
            
            <section id="image-editor" class="tool-section hidden">
                <h2 data-i18n="img_editor_title">–†–µ–¥–∞–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h2>
                <input type="file" accept="image/*">
                <p data-i18n="img_editor_tools">–û–±—Ä–µ–∑–∫–∞, –ú–∞—Å—à—Ç–∞–±</p>
            </section>
            
            <section id="image-converter" class="tool-section hidden">
                <h2 data-i18n="img_converter_title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h2>
                <input type="file" accept="image/*">
                <select><option>PNG $\rightarrow$ JPG</option></select>
                <button class="action-button" data-i18n="img_converter_convert_btn">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            </section>
            
            <section id="audio-generator" class="tool-section hidden">
                <h2 data-i18n="aud_gen_title">–ê—É–¥–∏–æ-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è (Sine/Square)</h2>
                <canvas id="audio-wave-canvas" width="300" height="100"></canvas>
                <button class="action-button" data-i18n="aud_gen_play_btn">Play Tone</button>
            </section>
            
            <section id="video-player" class="tool-section hidden">
                <h2 data-i18n="vid_player_title">–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</h2>
                <input type="file" accept="video/*">
                <video controls style="width: 100%; max-height: 200px;"></video>
            </section>
            
            <section id="game-of-life" class="tool-section hidden">
                <h2 data-i18n="gol_title">–ò–≥—Ä–∞ –ñ–∏–∑–Ω—å –ö–æ–Ω–≤–µ—è</h2>
                <canvas id="gol-canvas" width="300" height="300"></canvas>
                <div class="gol-controls">
                    <button id="gol-start" class="action-button button-success" data-i18n="gol_start_btn">–°—Ç–∞—Ä—Ç</button>
                    <button id="gol-reset" class="action-button" data-i18n="gol_reset_btn">–°–±—Ä–æ—Å</button>
                    <button id="gol-random" class="action-button" data-i18n="gol_random_btn">–†–∞–Ω–¥–æ–º</button>
                </div>
            </section>
            
            <section id="tetris" class="tool-section hidden">
                <h2 data-i18n="tetris_title">–¢–µ—Ç—Ä–∏—Å</h2>
                <canvas id="tetris-canvas" width="200" height="400" style="display: block; margin: 15px auto; border: 2px solid var(--primary-color);"></canvas>
            </section>
            
            <section id="pong" class="tool-section hidden">
                <h2 data-i18n="pong_title">–ü–æ–Ω–≥</h2>
                <canvas id="pong-canvas" width="300" height="200" style="display: block; margin: 15px auto; border: 2px solid var(--primary-color);"></canvas>
            </section>
            
            <section id="2048" class="tool-section hidden">
                <h2 data-i18n="2048_title">–ë–ª–æ–∫–æ–≤—ã–π –ø–∞–∑–ª (2048)</h2>
                <div class="game-grid" style="width: 300px; height: 300px; margin: 15px auto; border: 1px solid var(--border-color);"></div>
            </section>
            
            <section id="sand-sim" class="tool-section hidden">
                <h2 data-i18n="sand_sim_title">–ü–µ—Å–æ—á–Ω–∏—Ü–∞ —á–∞—Å—Ç–∏—Ü (Falling Sand)</h2>
                <canvas id="sand-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas>
            </section>
            
            <section id="perceptron" class="tool-section hidden">
                <h2 data-i18n="perc_title">–ü—Ä–æ—Å—Ç–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (–ü–µ—Ä—Ü–µ–ø—Ç—Ä–æ–Ω)</h2>
                <p data-i18n="perc_note">–û–±—É—á–µ–Ω–∏–µ –ª–æ–≥–∏–∫–µ AND/OR</p>
                <button class="action-button" data-i18n="perc_train_btn">–û–±—É—á–∏—Ç—å</button>
            </section>

            <section id="window-system" class="tool-section hidden">
                <h2 data-i18n="window_system_title">–ö–∞–∑—É–∞–ª—å–Ω–∞—è –æ–∫–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h2>
                <button id="open-new-window" class="action-button" data-i18n="window_system_open_btn">–û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤–æ–µ –æ–∫–Ω–æ</button>
                <div id="desktop-area" style="position: relative; height: 300px; border: 1px solid var(--border-color); margin-top: 15px;">
                    </div>
            </section>

            <section id="os-mockup" class="tool-section hidden">
                <h2 data-i18n="os_mockup_title">–ü—Ä–æ–≤–µ—Ä–∫–∞ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ê–Ω–∏–º–∞—Ü–∏–π (OS Mockup)</h2>
                <p class="note" data-i18n="os_mockup_note">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –¢—è–Ω–∏—Ç–µ –æ–∫–Ω–æ –≤–Ω–∏–∑ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å –µ–≥–æ –∂–µ—Å—Ç–æ–º.</p>
                <div class="mockup-container">
                    <div class="app-icon" data-app="app-1" style="left: 20px;">üåê</div>
                    <div class="app-icon" data-app="app-2" style="left: 90px;">‚öôÔ∏è</div>
                    <div class="app-icon" data-app="app-3" style="left: 160px;">üìß</div>
                    
                    <div id="app-window-container"></div>
                    <div class="gesture-bar"></div>
                </div>
            </section>

            <section id="browser" class="tool-section hidden">
                <h2 data-i18n="browser_title">–ë—Ä–∞—É–∑–µ—Ä-–ó–∞–≥–ª—É—à–∫–∞ + –°–∏–º—É–ª—è—Ü–∏—è –ó–∞–≥—Ä—É–∑–æ–∫</h2>
                <div class="browser-mockup">
                    <div class="browser-header">
                        <div class="browser-btn red"></div>
                        <div class="browser-btn yellow"></div>
                        <div class="browser-btn green"></div>
                        <input type="text" class="address-bar" value="https://multitool.quandz.dev" disabled>
                        <button class="browser-nav-btn" id="show-downloads">‚¨áÔ∏è</button>
                    </div>
                    
                    <div class="browser-screen" id="web-view">
                        <h3 data-i18n="browser_welcome_title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú—É–ª—å—Ç–∏–ë—Ä–∞—É–∑–µ—Ä!</h3>
                        <p data-i18n="browser_note">–≠—Ç–æ –∑–∞–≥–ª—É—à–∫–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤.</p>
                        <button id="simulate-download-btn" class="action-button button-success" data-i18n="browser_simulate_btn">–°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ó–∞–≥—Ä—É–∑–∫—É –§–∞–π–ª–∞</button>
                    </div>
                    
                    <div class="browser-screen hidden" id="downloads-view">
                        <h3 data-i18n="browser_downloads_title">–ó–∞–≥—Ä—É–∑–∫–∏:</h3>
                        <ul id="downloads-list">
                            </ul>
                    </div>
                </div>
            </section>
            
            <section id="labyrinth" class="tool-section hidden">
                <h2 data-i18n="lab_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –õ–∞–±–∏—Ä–∏–Ω—Ç–æ–≤</h2>
                <canvas id="labyrinth-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas>
            </section>
            
            <section id="color-palette" class="tool-section hidden">
                <h2 data-i18n="pal_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞–ª–∏—Ç—Ä –¶–≤–µ—Ç–æ–≤</h2>
                <div id="palette-output" style="height: 100px; display: flex;"></div>
                <button class="action-button" data-i18n="pal_generate_btn">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
            </section>
            
            <section id="fractal-gen" class="tool-section hidden">
                <h2 data-i18n="frac_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§—Ä–∞–∫—Ç–∞–ª–æ–≤</h2>
                <select><option data-i18n="frac_mandelbrot">–ú–∞–Ω–¥–µ–ª—å–±—Ä–æ—Ç</option></select>
                <canvas id="fractal-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas>
            </section>
            
            <section id="archiver" class="tool-section hidden">
                <h2 data-i18n="arch_title">–°–∂–∏–º–∞—é—â–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä LZW/DEFLATE</h2>
                <textarea rows="5" data-i18n-placeholder="arch_input_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Å–∂–∞—Ç–∏—è"></textarea>
                <button class="action-button" data-i18n="arch_compress_btn">–°–∂–∞—Ç—å $\rightarrow$</button>
            </section>
            
            <section id="text-analyzer" class="tool-section hidden">
                <h2 data-i18n="text_anal_title">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞</h2>
                <textarea rows="5" data-i18n-placeholder="text_anal_input_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"></textarea>
                <button class="action-button" data-i18n="text_anal_analyze_btn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                <p data-i18n="text_anal_output_label">–ß–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç—å —Å–ª–æ–≤: ...</p>
            </section>
            
            <section id="pattern-gen" class="tool-section hidden">
                <h2 data-i18n="pat_gen_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</h2>
                <select><option>Noise</option><option>Grid</option></select>
                <canvas id="pattern-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas>
            </section>
            
            <section id="converter" class="tool-section hidden">
                <h2 data-i18n="conv_title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä ${^\circ C}$ –≤ ${^\circ F}$</h2>
                <div class="input-group">
                    <label for="celsius" data-i18n="conv_celsius_label">–¶–µ–ª—å—Å–∏–π (${^\circ C}$):</label>
                    <input type="number" id="celsius" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É">
                </div>
                <p><span data-i18n="conv_output_label">–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –§–∞—Ä–µ–Ω–≥–µ–π—Ç–∞—Ö</span> (${^\circ F}$): <span id="fahrenheit-output">0</span></p>
            </section>

            <section id="counter" class="tool-section hidden">
                <h2 data-i18n="counter_title">–°—á–µ—Ç—á–∏–∫ –°–ª–æ–≤ –∏ –°–∏–º–≤–æ–ª–æ–≤</h2>
                <textarea id="text-input" rows="5" data-i18n-placeholder="counter_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å..."></textarea>
                <div class="results">
                    <p><span data-i18n="counter_chars">–°–∏–º–≤–æ–ª–æ–≤:</span> <span id="char-count">0</span></p>
                    <p><span data-i18n="counter_words">–°–ª–æ–≤:</span> <span id="word-count">0</span></p>
                </div>
            </section>
            
            <section id="calculator" class="tool-section hidden">
                <h2 data-i18n="nav_calculator">–ü—Ä–æ—Å—Ç–æ–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
                <div class="calculator-grid">
                    <input type="text" id="calc-display" value="0" disabled>
                    <button class="calc-btn span-2 action-btn" data-action="clear">AC</button>
                    <button class="calc-btn action-btn" data-action="delete">DEL</button>
                    <button class="calc-btn operation" data-value="/">/</button>

                    <button class="calc-btn number" data-value="7">7</button>
                    <button class="calc-btn number" data-value="8">8</button>
                    <button class="calc-btn number" data-value="9">9</button>
                    <button class="calc-btn operation" data-value="*">*</button>

                    <button class="calc-btn number" data-value="4">4</button>
                    <button class="calc-btn number" data-value="5">5</button>
                    <button class="calc-btn number" data-value="6">6</button>
                    <button class="calc-btn operation" data-value="-">-</button>

                    <button class="calc-btn number" data-value="1">1</button>
                    <button class="calc-btn number" data-value="2">2</button>
                    <button class="calc-btn number" data-value="3">3</button>
                    <button class="calc-btn operation" data-value="+">+</button>
                    
                    <button class="calc-btn number span-2" data-value="0">0</button>
                    <button class="calc-btn number" data-value=".">.</button>
                    <button class="calc-btn operation equals" data-action="calculate">=</button>
                </div>
            </section>

            <section id="tictactoe" class="tool-section hidden">
                <h2 data-i18n="nav_tictactoe">–ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏</h2>
                <div class="tictactoe-controls">
                    <select id="tictactoe-mode">
                        <option value="pvp" data-i18n="ttt_mode_pvp">–ò–≥—Ä–æ–∫ vs –ò–≥—Ä–æ–∫</option>
                        <option value="pva" data-i18n="ttt_mode_pva">–ò–≥—Ä–æ–∫ vs AI</option>
                        <option value="ava" data-i18n="ttt_mode_ava">AI vs AI</option>
                    </select>
                    <select id="ttt-difficulty-preset">
                        <option value="80" data-i18n="ttt_diff_medium">–°—Ä–µ–¥–Ω—è—è</option>
                        <option value="20" data-i18n="ttt_diff_easy">–õ–µ–≥–∫–∞—è</option>
                        <option value="100" data-i18n="ttt_diff_hard">–ù–µ–≤–æ–∑–º–æ–∂–Ω–∞—è</option>
                    </select>
                    <button id="tictactoe-reset" class="action-button button-success" data-i18n="timer_reset_btn">–°–±—Ä–æ—Å</button>
                </div>
                <p data-i18n="ttt_current_turn">–¢–µ–∫—É—â–∏–π —Ö–æ–¥: <span id="tictactoe-status">X</span></p>
                <div id="tictactoe-board" class="tictactoe-board"></div>
            </section>

            <section id="snake" class="tool-section hidden">
                <h2 data-i18n="nav_snake">–ó–º–µ–π–∫–∞ (AI-—Ä–µ–∂–∏–º)</h2>
                <div class="snake-settings">
                    <label for="ai-difficulty" data-i18n="snake_difficulty_label">–°–ª–æ–∂–Ω–æ—Å—Ç—å AI (0-100):</label>
                    <input type="range" id="ai-difficulty" min="0" max="100" value="40" style="width: 150px;">
                    <span id="ai-difficulty-value">40</span>
                    <label for="food-skin" data-i18n="snake_food_label">–°–∫–∏–Ω –µ–¥—ã:</label>
                    <select id="food-skin">
                        <option value="red" data-emoji="üçé">üçé</option>
                        <option value="yellow" data-emoji="üçå">üçå</option>
                        <option value="green" data-emoji="üçê">üçê</option>
                        <option value="orange" data-emoji="üçä">üçä</option>
                    </select>
                    <label for="game-seed" data-i18n="snake_seed_label">–°–∏–¥:</label>
                    <input type="text" id="game-seed" value="12345" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–∏–¥" style="width: 100px;">
                </div>
                <div class="snake-controls">
                    <button id="snake-start" class="action-button button-success" data-i18n="snake_start_btn">–°—Ç–∞—Ä—Ç AI</button>
                    <p><span data-i18n="snake_score_label">–°—á–µ—Ç:</span> <span id="snake-score">0</span> | <span data-i18n="snake_deaths_label">–°–º–µ—Ä—Ç–µ–π:</span> <span id="death-count">0</span> | <span data-i18n="snake_ai_level_label">AI Level:</span> <span id="ai-level">0</span></p>
                </div>
                <canvas id="snake-canvas" width="300" height="300"></canvas>
            </section>

            <section id="bytebeat" class="tool-section hidden">
                <h2 data-i18n="nav_bytebeat">Bytebeat & –ê—É–¥–∏–æ –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</h2>
                <div class="bytebeat-controls">
                    <label for="visualizer-style" data-i18n="bytebeat_style_label">–°—Ç–∏–ª—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:</label>
                    <select id="visualizer-style">
                        <option value="bars" data-i18n="bytebeat_style_bars">–°—Ç–æ–ª–±—Ü—ã (Bars)</option>
                        <option value="wave" data-i18n="bytebeat_style_wave">–í–æ–ª–Ω–∞ (Waveform)</option>
                        <option value="dots" data-i18n="bytebeat_style_dots">–¢–æ—á–∫–∏ (Dots)</option>
                        <option value="mirror" data-i18n="bytebeat_style_mirror">–ó–µ—Ä–∫–∞–ª—å–Ω—ã–µ –°—Ç–æ–ª–±—Ü—ã</option>
                    </select>
                </div>
                <hr>
                <h3 data-i18n="bytebeat_generator_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Bytebeat</h3>
                <div class="input-group">
                    <label for="bytebeat-code" data-i18n="bytebeat_formula_label">Bytebeat –§–æ—Ä–º—É–ª–∞</label>
                    <input type="text" id="bytebeat-code" value="(t*4)&(t>>11)">
                </div>
                <div class="bytebeat-controls">
                    <button id="bytebeat-generate" class="action-button button-success" data-i18n="bytebeat_generate_btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ö–æ–¥</button>
                    <button id="bytebeat-remix" class="action-button" data-i18n="bytebeat_remix_btn">–†–µ–º–∏–∫—Å –ö–æ–¥–∞</button>
                </div>
                <div class="bytebeat-controls">
                    <label for="sample-rate-select" data-i18n="bytebeat_sample_rate_label">–ß–µ—Ç–∫–æ—Å—Ç—å –ó–≤—É–∫–∞ (Hz):</label>
                    <select id="sample-rate-select" style="width: 150px;">
                        <option value="44100" data-i18n="bytebeat_rate_high">44100 Hz (–í—ã—Å–æ–∫–∞—è)</option>
                        <option value="8000" data-i18n="bytebeat_rate_low">8000 Hz (–ù–∏–∑–∫–∞—è / –≠—Ñ—Ñ–µ–∫—Ç –ì–æ–≤–Ω–∞)</option>
                    </select>
                    <button id="bytebeat-play" class="action-button button-success" data-i18n="bytebeat_play_btn">–ò–≥—Ä–∞—Ç—å Bytebeat</button>
                    <button id="bytebeat-stop" class="action-button button-danger" data-i18n="timer_stop_btn">–°—Ç–æ–ø</button>
                </div>
                <hr>
                <h3 data-i18n="bytebeat_audio_file_title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –ê—É–¥–∏–æ –§–∞–π–ª–∞</h3>
                <div class="input-group">
                    <label for="audio-file-input" data-i18n="bytebeat_audio_file_label">–í—ã–±–µ—Ä–∏—Ç–µ MP3/WAV —Ñ–∞–π–ª:</label>
                    <input type="file" id="audio-file-input" accept="audio/*">
                    <button id="audio-play" class="action-button" data-i18n="bytebeat_audio_play_btn">–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∏ –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <p class="note" data-i18n="bytebeat_visualizer_note">–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä:</p>
                <canvas id="bytebeat-visualizer" width="500" height="150"></canvas>
            </section>

            <section id="todo" class="tool-section hidden">
                <h2 data-i18n="nav_todo">–ú–µ–Ω–µ–¥–∂–µ—Ä –ó–∞–¥–∞—á (To-Do List)</h2>
                <div class="input-group todo-input-group">
                    <input type="text" id="new-task-input" data-i18n-placeholder="todo_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É">
                    <button id="add-task-btn" class="action-button button-success" data-i18n="todo_add_btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <ul id="todo-list" class="todo-list"></ul>
            </section>
            
            <section id="window-system" class="tool-section hidden">
                <h2 data-i18n="window_system_title">–ö–∞–∑—É–∞–ª—å–Ω–∞—è –æ–∫–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h2>
                <button id="open-new-window" class="action-button" data-i18n="window_system_open_btn">–û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤–æ–µ –æ–∫–Ω–æ</button>
                <div id="desktop-area" style="position: relative; height: 300px; border: 1px solid var(--border-color); margin-top: 15px;">
                    </div>
            </section>
            
            <section id="notepad" class="tool-section hidden"><h2 data-i18n="notepad_title">–ú–∏–Ω–∏-–±–ª–æ–∫–Ω–æ—Ç</h2><textarea id="notepad-area" rows="10" data-i18n-placeholder="notepad_placeholder" placeholder="–í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ..."></textarea></section>
            <section id="code-encrypt" class="tool-section hidden"><h2 data-i18n="cipher_title">–®–∏—Ñ—Ä–∞—Ç–æ—Ä/–î–µ—à–∏—Ñ—Ä–∞—Ç–æ—Ä</h2><select id="cipher-type"><option value="caesar">Caesar</option><option value="vigenere">Vigen√®re</option></select><input type="text" id="cipher-key" data-i18n-placeholder="cipher_key_placeholder" placeholder="–ö–ª—é—á/–°–¥–≤–∏–≥"><textarea id="cipher-input" rows="5"></textarea><button id="run-cipher" class="action-button" data-i18n="cipher_encrypt_btn">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button><textarea id="cipher-output" rows="5" readonly></textarea></section>
            <section id="hasher" class="tool-section hidden"><h2 data-i18n="hash_title">–•–µ—à–µ—Ä</h2><select id="hash-type"><option value="md5">MD5</option><option value="sha256">SHA256</option></select><input type="text" id="hash-input" data-i18n-placeholder="hash_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç"><p><span data-i18n="hash_output_label">–•–µ—à:</span> <span id="hash-output"></span></p></section>
            <section id="random-gen" class="tool-section hidden"><h2 data-i18n="rand_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</h2><button id="generate-number" class="action-button" data-i18n="rand_number_btn">–ß–∏—Å–ª–æ</button><button id="generate-color" class="action-button" data-i18n="rand_color_btn">–¶–≤–µ—Ç</button><p id="random-output"></p></section>
            <section id="image-editor" class="tool-section hidden"><h2 data-i18n="img_editor_title">–†–µ–¥–∞–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h2><input type="file" accept="image/*"><p data-i18n="img_editor_tools">–û–±—Ä–µ–∑–∫–∞, –ú–∞—Å—à—Ç–∞–±</p></section>
            <section id="image-converter" class="tool-section hidden"><h2 data-i18n="img_converter_title">–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h2><input type="file" accept="image/*"><select><option>PNG $\rightarrow$ JPG</option></select><button class="action-button" data-i18n="img_converter_convert_btn">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button></section>
            <section id="audio-generator" class="tool-section hidden"><h2 data-i18n="aud_gen_title">–ê—É–¥–∏–æ-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è (Sine/Square)</h2><canvas id="audio-wave-canvas" width="300" height="100"></canvas><button class="action-button" data-i18n="aud_gen_play_btn">Play Tone</button></section>
            <section id="video-player" class="tool-section hidden"><h2 data-i18n="vid_player_title">–í–∏–¥–µ–æ–ø–ª–µ–µ—Ä</h2><input type="file" accept="video/*"><video controls style="width: 100%; max-height: 200px;"></video></section>
            <section id="tetris" class="tool-section hidden"><h2 data-i18n="tetris_title">–¢–µ—Ç—Ä–∏—Å</h2><canvas id="tetris-canvas" width="200" height="400" style="display: block; margin: 15px auto; border: 2px solid var(--primary-color);"></canvas></section>
            <section id="pong" class="tool-section hidden"><h2 data-i18n="pong_title">–ü–æ–Ω–≥</h2><canvas id="pong-canvas" width="300" height="200" style="display: block; margin: 15px auto; border: 2px solid var(--primary-color);"></canvas></section>
            <section id="2048" class="tool-section hidden"><h2 data-i18n="2048_title">–ë–ª–æ–∫–æ–≤—ã–π –ø–∞–∑–ª (2048)</h2><div class="game-grid" style="width: 300px; height: 300px; margin: 15px auto; border: 1px solid var(--border-color);"></div></section>
            <section id="sand-sim" class="tool-section hidden"><h2 data-i18n="sand_sim_title">–ü–µ—Å–æ—á–Ω–∏—Ü–∞ —á–∞—Å—Ç–∏—Ü (Falling Sand)</h2><canvas id="sand-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas></section>
            <section id="perceptron" class="tool-section hidden"><h2 data-i18n="perc_title">–ü—Ä–æ—Å—Ç–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (–ü–µ—Ä—Ü–µ–ø—Ç—Ä–æ–Ω)</h2><p data-i18n="perc_note">–û–±—É—á–µ–Ω–∏–µ –ª–æ–≥–∏–∫–µ AND/OR</p><button class="action-button" data-i18n="perc_train_btn">–û–±—É—á–∏—Ç—å</button></section>
            <section id="labyrinth" class="tool-section hidden"><h2 data-i18n="lab_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –õ–∞–±–∏—Ä–∏–Ω—Ç–æ–≤</h2><canvas id="labyrinth-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas></section>
            <section id="color-palette" class="tool-section hidden"><h2 data-i18n="pal_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞–ª–∏—Ç—Ä –¶–≤–µ—Ç–æ–≤</h2><div id="palette-output" style="height: 100px; display: flex;"></div><button class="action-button" data-i18n="pal_generate_btn">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button></section>
            <section id="fractal-gen" class="tool-section hidden"><h2 data-i18n="frac_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –§—Ä–∞–∫—Ç–∞–ª–æ–≤</h2><select><option data-i18n="frac_mandelbrot">–ú–∞–Ω–¥–µ–ª—å–±—Ä–æ—Ç</option></select><canvas id="fractal-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas></section>
            <section id="archiver" class="tool-section hidden"><h2 data-i18n="arch_title">–°–∂–∏–º–∞—é—â–∏–π –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä LZW/DEFLATE</h2><textarea rows="5" data-i18n-placeholder="arch_input_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Å–∂–∞—Ç–∏—è"></textarea><button class="action-button" data-i18n="arch_compress_btn">–°–∂–∞—Ç—å $\rightarrow$</button></section>
            <section id="text-analyzer" class="tool-section hidden"><h2 data-i18n="text_anal_title">–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞</h2><textarea rows="5" data-i18n-placeholder="text_anal_input_placeholder" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"></textarea><button class="action-button" data-i18n="text_anal_analyze_btn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button><p data-i18n="text_anal_output_label">–ß–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç—å —Å–ª–æ–≤: ...</p></section>
            <section id="pattern-gen" class="tool-section hidden"><h2 data-i18n="pat_gen_title">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</h2><select><option>Noise</option><option>Grid</option></select><canvas id="pattern-canvas" width="300" height="300" style="display: block; margin: 15px auto; border: 1px solid var(--border-color);"></canvas></section>

        </div>
    </main>
    
    <script src="ai.js"></script>
    <script src="logic.js"></script>
    <script src="script.js"></script> 
</body>
</html>
